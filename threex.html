<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
       /* canvas {
            height: 400px;
            width: 400px;
            border:2px solid blue;
        } */
        canvas {
            position: fixed;
        }
        @font-face {
                font-family:korkut ;
                src: url("digital.ttf"); 
                }
        #fyt {
            position: absolute;
            left:100px;
            top:200px;
            color:green;
            font-size: 130px;
            font-family: korkut;
            margin:10px;
        }
        #fyt::selection {
            display: none;
        }
        body::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
    <script src="three\build\three.min.js"></script>
    <script src="three\examples\js\loaders\GLTFLoader.js"></script>  
    <script src="three\examples\js\loaders\TDSLoader.js"></script>  
    <script src="three\examples\js\renderers\Projector.js"></script>
    <script src="three\examples\js\loaders\OBJLoader.js"></script>
    <script src="threex.domevents\threex.domevents.js"></script>
    <script src="three\examples\js\controls\DragControls.js"></script>
    <script src="three\examples\js\controls\FlyControls.js"></script>
    <script type="module" src="three\src\core\Object3D.js"></script>
    <script type="module" src="three\src\loaders\TextureLoader.js"></script>

   <!-- <script src="threex2.js"></script> -->
 <script >
  window.onload=function() {

  
  
  
        
    /*    import * as THREE from 'three'
import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'
import { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader'
import Stats from 'three/examples/jsm/libs/stats.module' */

            const scene = new THREE.Scene()
//scene.add(new THREE.AxesHelper(5))

var fiyat=0;
var fiyat_yaz=document.getElementById("fyt");


const light = new THREE.PointLight()
light.position.set(2.5, 7.5, 15)
scene.add(light);

const camera = new THREE.PerspectiveCamera(
    75,
    window.innerWidth / window.innerHeight,
    0.1,
    1000
)
camera.position.z = 3

const renderer = new THREE.WebGLRenderer({alpha:true});
renderer.setSize(window.innerWidth, window.innerHeight)
document.body.appendChild(renderer.domElement)

/*const controls = new THREE.OrbitControls(camera, renderer.domElement)
controls.enableDamping = true; */

// const material = new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe: true })

var cubes=[];
var drag_on_off=false;

			var domEvents = new THREEx.DomEvents(camera, renderer.domElement);

                  const controls3 = new THREE.DragControls(cubes, camera, renderer.domElement);


                  
                  controls3.addEventListener('dragstart', function (event) {
     event.object.material.opacity = 0.33;
   //  event.object.material.position.set(0,0,-500);
                    drag_on_off=true;
                   // console.log("dragggg");
 });

 controls3.addEventListener('dragend', function (event) {
     event.object.material.opacity = 1
     drag_on_off=false;
    // console.log("dragg end");
 });

 var flyControls = new THREE.FlyControls(camera, renderer.domElement); 
		  flyControls.movementSpeed = 100;
		  flyControls.dragToLook=true;
		  flyControls.rollSpeed = Math.PI / 100;
		  flyControls.autoForward = false;

var num1=0,num2=0,num3=0;
var arr=[];
const textureLoader = new THREE.TextureLoader();
textureLoader.load("healthy_dentition/textures/Gums_diffuse.jpeg");
const objLoader = new THREE.OBJLoader();
var loader7=new THREE.TDSLoader();
loader7.load(
    "Anatomy_A1208018/Cadnav.com_A1208VP1299.3DS",
    (object) => {
        // (object.children[0] as THREE.Mesh).material = material
        // object.traverse(function (child) {
        //     if ((child as THREE.Mesh).isMesh) {
        //         (child as THREE.Mesh).material = material
        //     }
        // });
            object.traverse(function(child) {
               /* if(child instanceof THREE.Mesh) {
                  //  console.log(child);
                  //  child[0].material.position.set(0,0,0);
                   // child.material.color.setRGB(1,0,0);
                } */
                
                console.log(child.name);
                if(child.isMesh) {
              //  child.material.map=textureLoader;
                }
               // arr.push(child);
               // console.log(arr);
            });

        object.position.set(100,0,-600);
        object.scale.set(70,70,70);
        object.rotation.x -=1.3;
        scene.add(object);
      //  cubes.push(object);

                       //    object.getObjectByName( "upgums" ).material.color.setHex( 0xff0000 );
                        //   object.getObjectByName( "lowgums" ).children[0].color.setRGB(223, 255, 0);


            var obj2=object.getObjectByName("upgums");
           // obj2.position.set(200,0,-600);
           // obj2.scale.set(70,70,70);
          // obj2.rotation.set(10,10,10);
          obj2.position.z +=1;
          obj2.position.y +=0.5;

        //  obj2.material.color="red";
        var obj3=object.getObjectByName("rcentinc");
        obj3.position.y +=0.5;
        obj3.position.z +=1;

domEvents.addEventListener(obj3,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj3.visible=false;
                fiyat +=73;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);

        cubes.push(obj3);
        var obj4=object.getObjectByName("lcentinc");
        obj4.position.y +=0.5;
        obj4.position.z +=1;
        domEvents.addEventListener(obj4,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj4.visible=false;
                fiyat +=73;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj4);
        var obj5=object.getObjectByName("rlatinc");
        obj5.position.y +=0.5;
        obj5.position.z +=1;
        domEvents.addEventListener(obj5,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj5.visible=false;
                fiyat +=67;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj5);
        var obj6=object.getObjectByName("llatinc");
        obj6.position.y +=0.5;
        obj6.position.z +=1;
        domEvents.addEventListener(obj6,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj6.visible=false;
                fiyat +=67;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj6);
        var obj7=object.getObjectByName("rpremol1");
        obj7.position.y +=0.5;
        obj7.position.z +=1;
        domEvents.addEventListener(obj7,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj7.visible=false;
                fiyat +=63;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj7);
        var obj8=object.getObjectByName("lpremol1");
        obj8.position.y +=0.5; 
        obj8.position.z +=1;
        domEvents.addEventListener(obj8,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj8.visible=false;
                fiyat +=58;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj8);
        var obj9=object.getObjectByName("rcanine");
        obj9.position.y +=0.5;
        obj9.position.z +=1;
        domEvents.addEventListener(obj9,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj9.visible=false;
                fiyat +=58;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj9);
        var obj10=object.getObjectByName("lcanine");
        obj10.position.y +=0.5; 
        obj10.position.z +=1;
        domEvents.addEventListener(obj10,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj10.visible=false;
                fiyat +=55;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj10);
        var obj11=object.getObjectByName("rpremol2");
        obj11.position.y +=0.5;
        obj11.position.z +=1;
        domEvents.addEventListener(obj11,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj11.visible=false;
                fiyat +=55;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj11);
        var obj12=object.getObjectByName("lpremol2");
        obj12.position.y +=0.5; 
        obj12.position.z +=1;
        domEvents.addEventListener(obj12,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj12.visible=false;
                fiyat +=49;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj12);
        var obj13=object.getObjectByName("rmolar3");
        obj13.position.y +=0.5;
        obj13.position.z +=1;
        domEvents.addEventListener(obj13,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj13.visible=false;
                fiyat +=49;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj13);
        var obj14=object.getObjectByName("lmolar3");
        obj14.position.y +=0.5;
        obj14.position.z +=1;
        domEvents.addEventListener(obj14,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj14.visible=false;
                fiyat +=46;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj14);
        var obj15=object.getObjectByName("rmolar2");
        obj15.position.y +=0.5;
        obj15.position.z +=1;
        domEvents.addEventListener(obj15,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj15.visible=false;
                fiyat +=46;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj15);
        var obj16=object.getObjectByName("lmolar2");
        obj16.position.y +=0.5;
        obj16.position.z +=1;
        domEvents.addEventListener(obj16,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj16.visible=false;
                fiyat +=42;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj16);
        var obj17=object.getObjectByName("rmolar1");
        obj17.position.y +=0.5;
        obj17.position.z +=1;
        domEvents.addEventListener(obj17,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj17.visible=false;
                fiyat +=42;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj17);
        var obj18=object.getObjectByName("lmolar1");
        obj18.position.y +=0.5;
        obj18.position.z +=1;
        domEvents.addEventListener(obj18,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj18.visible=false;
                fiyat +=37;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj18);
        var obj19=object.getObjectByName("rmolar3l");
        domEvents.addEventListener(obj19,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj19.visible=false;
                fiyat +=37;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj19);
        var obj20=object.getObjectByName("lmolar3l");
        domEvents.addEventListener(obj20,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj20.visible=false;
                fiyat +=34;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj20);
        var obj21=object.getObjectByName("rmolar2l");
        domEvents.addEventListener(obj21,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj21.visible=false;
                fiyat +=34;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj21);
        var obj22=object.getObjectByName("lmolar2l");
        domEvents.addEventListener(obj22,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj22.visible=false;
                fiyat +=30;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj22);
        var obj23=object.getObjectByName("rmolar1l");
        domEvents.addEventListener(obj23,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj23.visible=false;
                fiyat +=30;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj23);
        var obj24=object.getObjectByName("lmolar1l");
        domEvents.addEventListener(obj24,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj24.visible=false;
                fiyat +=28;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj24);
        var obj25=object.getObjectByName("rprem2l");
        domEvents.addEventListener(obj25,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj25.visible=false;
                fiyat +=28;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj25);
        var obj26=object.getObjectByName("lprem2l");
        domEvents.addEventListener(obj26,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj26.visible=false;
                fiyat +=25;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj26);
        var obj27=object.getObjectByName("rprem1l");
        domEvents.addEventListener(obj27,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj27.visible=false;
                fiyat +=25;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj27);
        var obj28=object.getObjectByName("lprem1l");
        domEvents.addEventListener(obj28,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj28.visible=false;
                fiyat +=23;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj28);
        var obj29=object.getObjectByName("rcaninel");
        domEvents.addEventListener(obj29,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj29.visible=false;
                fiyat +=23;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj29);
        var obj30=object.getObjectByName("lcaninel");
        domEvents.addEventListener(obj30,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj30.visible=false;
                fiyat +=20;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj30);
        var obj31=object.getObjectByName("rlatinl");
        domEvents.addEventListener(obj31,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj31.visible=false;
                fiyat +=20;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj31);
        var obj32=object.getObjectByName("llatinl");
        domEvents.addEventListener(obj32,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj32.visible=false;
                fiyat +=19;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj32);
        var obj33=object.getObjectByName("rcentinl");
        domEvents.addEventListener(obj33,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj33.visible=false;
                fiyat +=19;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj33);
        var obj34=object.getObjectByName("lcentinl");
        domEvents.addEventListener(obj34,'dblclick',function(event) {
                //event.object.material.opacity=0;
                obj34.visible=false;
                fiyat +=17;
                fiyat_yaz.innerHTML=fiyat+"$";
			},true);
        cubes.push(obj34);

          //  scene.add(obj2);
            
    document.onkeydown=function(event) {
        switch(event.key) {
            case "a":
            num2=parseFloat(num2)+0.1;
          //  object.rotation.set(num1,num2,num2);
          object.rotation.z +=0.1;
            object.position.x +=10;
            break;
            case "d":
            num2=parseFloat(num2)-0.1;
           // object.rotation.set(num1,num2,num3);
           object.rotation.z -=0.1;
            object.position.x -=10;
            break;
            case "w":
            num1=parseFloat(num1)+0.1;
            object.rotation.set(num1,num2,num3);
            break;
            case "s":
            num1=parseFloat(num1)-0.1;
            object.rotation.set(num1,num2,num3);
            break;
            case "h":
            for(var i=0;i<=34;i++) {
                cubes[i].visible=false;
                fiyat_yaz.innerHTML="1585$";
            }
            break;
            case "j":
            for(var i=0;i<=34;i++) {
                cubes[i].visible=true;
                fiyat_yaz.innerHTML="0$";
                fiyat =0;
            }
            break;
        }
    }


      var mouse_down_up=false;
     document.onpointerdown=function(event) {
         mouse_down_up=true;
     }
     document.onpointerup=function(event) {
         mouse_down_up=false;
     }
    var direction="";
     document.onpointermove=function(event) {
        var oldx=0;
        var oldy=0;
    if (event.movementX < oldx && mouse_down_up==true) {
        direction = "left"
        console.log(direction);
        if(drag_on_off==false) {
           object.rotation.z -=0.08;
        }
    } else if (event.movementX > oldx && mouse_down_up==true) {
        direction = "right"
        console.log(direction);
        if(drag_on_off==false) {
           object.rotation.z +=0.08;
        }
    }
    else if (event.movementY < oldy && mouse_down_up==true) {
        direction = "up"
        console.log(direction);
        if(drag_on_off==false) {
           object.rotation.x -=0.08;
        }
    }
    else if (event.movementY > oldy && mouse_down_up==true) {
        direction = "down"
        console.log(direction);
        if(drag_on_off==false) {
           object.rotation.x +=0.08;
        }
    }
    oldx=event.pageX; oldy=event.pageY;
     }


    },
    (xhr) => {
        console.log((xhr.loaded / xhr.total) * 100 + '% loaded')
    },
    (error) => {
        console.log(error)
    }
);


var loader5 = new THREE.GLTFLoader();
loader5.load('implant/scene.gltf', ( gltf ) => {
  var model = gltf.scene;
  model.position.set(0,0,-550);
  model.scale.set(70,70,70);
 // scene.add( model );
 // cubes.push(model);
},
	// called when loading is in progresses
	function ( xhr ) {

console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );

},
// called when loading has errors
function ( error ) {

console.log( 'An error happened' );

}
 );

 var loader6=new THREE.TDSLoader();
 loader6.load("Anatomy_A1208018/Cadnav.com_A1208VP1299.3DS",function(object) {
    object.position.set(100,0,-500);
    object.scale.set(30,30,30);
    
    document.onkeypress=function(event) {
        if(event.key=="l") {
            object.rotation.x +=0.1;
        }
    }

   // scene.add(object);

 });



window.addEventListener('resize', onWindowResize, false)
function onWindowResize() {
    camera.aspect = window.innerWidth / window.innerHeight
    camera.updateProjectionMatrix()
    renderer.setSize(window.innerWidth, window.innerHeight)
    render();
}


function animate() {
    requestAnimationFrame(animate)

   // controls.update()

   //	flyControls.update(0.1);

    


    render()

    
}

function render() {
    renderer.render(scene, camera)
}

animate()

  }



    </script> 

    <p id="fyt">0$</p>

</body>
</html>